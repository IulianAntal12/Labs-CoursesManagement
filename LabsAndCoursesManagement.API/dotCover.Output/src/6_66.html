<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Facultate\Labs-CoursesManagement\LabsAndCoursesManagement.API\LabsAndCoursesManagement.API.IntegrationTests\Setup\Utilities.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using LabsAndCoursesManagement.BusinessLogic.Mappers;
using LabsAndCoursesManagement.DataAccess.Database;
using LabsAndCoursesManagement.Models.Dtos;
using LabsAndCoursesManagement.Models.Models;

namespace LabsAndCoursesManagement.API.IntegrationTests.Setup
{
    public class Utilities
    {
        public static Guid SeedTeachers(DatabaseContext context)
        {
            AutoMapperBuilder autoMapperBuilder = new AutoMapperBuilder();
            var mapper = autoMapperBuilder.Build();
            var dto = new CreateTeacherDto
            {
                FullName = &quot;Mr.Cinnamon&quot;,
                Email = &quot;cinnamon@gmail.com&quot;,
                Role = &quot;Lecturer&quot;,
                PhoneNumber = &quot;0756789456&quot;,
                Cabinet = &quot;C210&quot;
            };
            var teacher = mapper.Map&lt;CreateTeacherDto, Teacher&gt;(dto);
            context.Teachers.Add(teacher);
            context.SaveChanges();
            return teacher.Id;
        }

        public static List&lt;Guid&gt; SeedLabs(DatabaseContext context)
        {
            var teacherId = SeedTeachers(context);
            AutoMapperBuilder autoMapperBuilder = new AutoMapperBuilder();
            var mapper = autoMapperBuilder.Build();
            var labIds = new List&lt;Guid&gt;();
            for (var studentIndex = 0; studentIndex &lt; 2; studentIndex++)
            {
                var dto = new CreateLabDto
                {
                    Name = &quot;Maths&quot;,
                    Group = &quot;B4&quot;,
                    Year = 1,
                    Semester = 1,
                    Description = &quot;Just maths&quot;,
                    TeacherId = teacherId,
                };
                var lab = mapper.Map&lt;CreateLabDto, Lab&gt;(dto);
                context.Labs.Add(lab);
                context.SaveChanges();
                labIds.Add(lab.Id);
            }
            return labIds;
        }

        public static List&lt;Guid&gt; SeedStudents(DatabaseContext context)
        {
            AutoMapperBuilder autoMapperBuilder = new AutoMapperBuilder();
            var mapper = autoMapperBuilder.Build();
            var studentIds = new List&lt;Guid&gt;();
            for (var studentIndex = 0; studentIndex &lt; 2; studentIndex++) 
            {
                var dto = new CreateStudentDto
                {
                    FullName = &quot;George Smoc&quot;,
                    Email = &quot;george.smoc13@gmail.com&quot;,
                    Year = 3,
                    IdentificationNumber = &quot;Some string that is not yet validated&quot;,
                    Group = &quot;B4&quot;
                };
                var student = mapper.Map&lt;CreateStudentDto, Student&gt;(dto);
                context.Students.Add(student);
                context.SaveChanges();
                studentIds.Add(student.Id);
            }
            return studentIds;
        }
    }
}


    </pre>
    <script type="text/javascript">
      highlightRanges([[11,9,11,10,1],[12,13,12,75,1],[13,13,13,52,1],[14,13,21,15,1],[22,13,22,70,1],[23,13,23,43,1],[24,13,24,35,1],[25,13,25,31,1],[26,9,26,10,1],[29,9,29,10,1],[30,13,30,51,1],[31,13,31,75,1],[32,13,32,52,1],[33,13,33,43,1],[34,18,34,38,1],[34,40,34,56,1],[34,58,34,72,1],[35,13,35,14,1],[36,17,44,19,1],[45,17,45,62,1],[46,17,46,39,1],[47,17,47,39,1],[48,17,48,36,1],[49,13,49,14,1],[50,13,50,27,1],[51,9,51,10,1],[54,9,54,10,1],[55,13,55,75,1],[56,13,56,52,1],[57,13,57,47,1],[58,18,58,38,1],[58,40,58,56,1],[58,58,58,72,1],[59,13,59,14,1],[60,17,67,19,1],[68,17,68,74,1],[69,17,69,47,1],[70,17,70,39,1],[71,17,71,44,1],[72,13,72,14,1],[73,13,73,31,1],[74,9,74,10,1]]);
    </script>
  </body>
</html>