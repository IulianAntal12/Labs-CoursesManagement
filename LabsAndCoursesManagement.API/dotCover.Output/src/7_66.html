<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Facultate\.NET course\Labs-CoursesManagement\LabsAndCoursesManagement.API\LabsAndCoursesManagement.API.IntegrationTests\RepositoryTests\LabRepositoryTests.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using AutoMapper;
using FluentAssertions;
using LabsAndCoursesManagement.API.IntegrationTests.Setup;
using LabsAndCoursesManagement.BusinessLogic.Mappers;
using LabsAndCoursesManagement.DataAccess.Database;
using LabsAndCoursesManagement.DataAccess.Repositories.GenericRepositories;
using LabsAndCoursesManagement.Models.Dtos;
using LabsAndCoursesManagement.Models.Models;
using Microsoft.Extensions.DependencyInjection;

namespace LabsAndCoursesManagement.API.IntegrationTests.RepositoryTests
{
    public class LabRepositoryTests : BaseIntegrationTests
    {
        private readonly LabRepository labRepo;
        private Teacher teacher;
        private CreateTeacherDto teacherDto;
        private Lab lab;
        private CreateLabDto labDto;
        private IMapper mapper;
        public LabRepositoryTests(CustomWebApplicationFactory&lt;Program&gt; factory) : base(factory)
        {
            using var scope = factory.Services.CreateScope();
            var scopedServices = scope.ServiceProvider;
            var db = scopedServices.GetRequiredService&lt;DatabaseContext&gt;();
            labRepo = new LabRepository(db);

            mapper = new AutoMapperBuilder().Build();

            teacherDto = new CreateTeacherDto
            {
                FullName = &quot;Test test&quot;,
                Email = &quot;Test@test.com&quot;,
                Role = &quot;Test&quot;,
                Cabinet = &quot;c100&quot;,
                PhoneNumber = &quot;0766727859&quot;,
            };
            teacher = mapper.Map&lt;Teacher&gt;(teacherDto);

            labDto = new CreateLabDto
            {
                Description = &quot;Test&quot;,
                Name = &quot;Test&quot;,
                Year = 3,
                Semester = 1,
                Group = &quot;B4&quot;
            };
            lab = mapper.Map&lt;Lab&gt;(labDto);
        }
    }
}

    </pre>
    <script type="text/javascript">
      highlightRanges([[21,83,21,96,0],[22,9,22,10,0],[23,13,23,62,0],[24,13,24,56,0],[25,13,25,75,0],[26,13,26,45,0],[28,13,28,54,0],[30,13,37,15,0],[38,13,38,55,0],[40,13,47,15,0],[48,13,48,43,0],[49,9,49,10,0]]);
    </script>
  </body>
</html>